<div class="comments">
  <div *ngFor="let comment of comments">
    <app-comment-item
      [comment]="comment"
      [control]="commentsForm.get(comment._id)"
      (updateComment)="updateComment($event)"
      (removeComment)="removeComment($event)"
    ></app-comment-item>
  </div>
  <form
    class="ticket-form"
    novalidate
    (ngSubmit)="createComment()"
    [formGroup]="ticketForm"
  >
    <div class="form-group">
      <angular-editor
        formControlName="comment"
        [config]="editorConfig"
      ></angular-editor>
    </div>
    <div class="form-group comments__button-wrapper">
      <button
        type="submit"
        class="btn btn-primary"
        [disabled]="ticketForm.invalid || (loading$ | async)"
      >
        Send
      </button>
    </div>
  </form>
</div>
